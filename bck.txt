AQUI ESTA ESCRITO O JS

// Elementos DOM
const menuToggle = document.getElementById('menu-toggle');
const menuIcon = document.getElementById('menu-icon');
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');
const navItems = document.querySelectorAll('.nav-item');
const pages = document.querySelectorAll('.page');
const actionBtns = document.querySelectorAll('.action-btn');
const logoutBtn = document.querySelector('.logout-btn');

// Estado do menu
let isMenuOpen = false;

// FunÃ§Ã£o para alternar menu
function toggleMenu() {
    isMenuOpen = !isMenuOpen;
    
    if (isMenuOpen) {
        sidebar.classList.add('open');
        overlay.classList.add('active');
        menuIcon.className = 'fas fa-times';
    } else {
        sidebar.classList.remove('open');
        overlay.classList.remove('active');
        menuIcon.className = 'fas fa-bars';
    }
}

// FunÃ§Ã£o para fechar menu
function closeMenu() {
    if (isMenuOpen) {
        isMenuOpen = false;
        sidebar.classList.remove('open');
        overlay.classList.remove('active');
        menuIcon.className = 'fas fa-bars';
    }
}

// FunÃ§Ã£o para navegar entre pÃ¡ginas
function navigateToPage(pageId) {
    // Remove active de todas as pÃ¡ginas
    pages.forEach(page => page.classList.remove('active'));
    
    // Remove active de todos os nav items
    navItems.forEach(item => item.classList.remove('active'));
    
    // Ativa a pÃ¡gina selecionada
    const targetPage = document.getElementById(pageId + '-page');
    if (targetPage) {
        targetPage.classList.add('active');
    }
    
    // Ativa o nav item correspondente
    const targetNavItem = document.querySelector(`[data-page="${pageId}"]`);
    if (targetNavItem) {
        targetNavItem.classList.add('active');
    }
    
    // Fecha o menu em mobile
    if (window.innerWidth < 1024) {
        closeMenu();
    }
}

// FunÃ§Ã£o para executar aÃ§Ãµes rÃ¡pidas
function executeAction(action) {
    switch(action) {
        case 'pomodoro':
            alert('Iniciando sessÃ£o Pomodoro! ðŸ…');
            // Aqui vocÃª pode integrar com Django
            break;
        case 'new-task':
            alert('Criando nova tarefa! âœ…');
            // Aqui vocÃª pode abrir um modal ou redirecionar
            break;
        case 'exercise':
            alert('Iniciando exercÃ­cio de foco! ðŸ§ ');
            // Aqui vocÃª pode navegar para exercÃ­cios
            break;
        case 'reminder':
            alert('Criando novo lembrete! ðŸ””');
            // Aqui vocÃª pode abrir formulÃ¡rio de lembrete
            break;
        default:
            console.log('AÃ§Ã£o nÃ£o reconhecida:', action);
    }
}

// Event Listeners
menuToggle.addEventListener('click', toggleMenu);
overlay.addEventListener('click', closeMenu);

// NavegaÃ§Ã£o do menu
navItems.forEach(item => {
    item.addEventListener('click', (e) => {
        e.preventDefault();
        const pageId = item.getAttribute('data-page');
        navigateToPage(pageId);
    });
});

// AÃ§Ãµes rÃ¡pidas
actionBtns.forEach(btn => {
    btn.addEventListener('click', () => {
        const action = btn.getAttribute('data-action');
        executeAction(action);
    });
});

// Logout
logoutBtn.addEventListener('click', () => {
    if (confirm('Tem certeza que deseja sair?')) {
        alert('Logout realizado! AtÃ© logo! ðŸ‘‹');
        // Aqui vocÃª pode redirecionar para a pÃ¡gina de login do Django
        // window.location.href = '/logout/';
    }
});

// Fechar menu ao redimensionar para desktop
window.addEventListener('resize', () => {
    if (window.innerWidth >= 1024) {
        closeMenu();
    }
});

// NavegaÃ§Ã£o por teclado (acessibilidade)
document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && isMenuOpen) {
        closeMenu();
    }
});

// FunÃ§Ã£o para atualizar estatÃ­sticas (exemplo para integraÃ§Ã£o com Django)
function updateStats(data) {
    // Esta funÃ§Ã£o pode ser chamada quando vocÃª receber dados do Django
    const statsElements = {
        tasks: document.querySelector('.stat-card.blue .stat-number'),
        time: document.querySelector('.stat-card.gold .stat-number'),
        streak: document.querySelector('.stat-card.green .stat-number')
    };
    
    if (data.tasks_completed !== undefined) {
        statsElements.tasks.textContent = data.tasks_completed;
    }
    
    if (data.focus_time !== undefined) {
        statsElements.time.textContent = data.focus_time;
    }
    
    if (data.streak_days !== undefined) {
        statsElements.streak.textContent = data.streak_days;
    }
}

// FunÃ§Ã£o para fazer requisiÃ§Ãµes AJAX para Django (exemplo)
async function fetchUserData() {
    try {
        // Exemplo de como fazer requisiÃ§Ã£o para Django
        // const response = await fetch('/api/user-stats/');
        // const data = await response.json();
        // updateStats(data);
        
        console.log('FunÃ§Ã£o para buscar dados do usuÃ¡rio');
    } catch (error) {
        console.error('Erro ao buscar dados:', error);
    }
}

// InicializaÃ§Ã£o
document.addEventListener('DOMContentLoaded', () => {
    console.log('FocusApp carregado com sucesso! ðŸš€');
    
    // Aqui vocÃª pode fazer a primeira requisiÃ§Ã£o para buscar dados
    // fetchUserData();
});

// Exportar funÃ§Ãµes para uso global (se necessÃ¡rio)
window.FocusApp = {
    navigateToPage,
    updateStats,
    fetchUserData,
    toggleMenu,
    closeMenu
};